#! /bin/csh
#$ -V
#$ -S /bin/csh
#$ -o /cellar/users/ramarty/Data/hla_ii/sge-system_files
#$ -e /cellar/users/ramarty/Data/hla_ii/sge-system_files
#$ -cwd
#$ -t 1-660
#$ -l h_vmem=2G
#$ -tc 50
#$ -l long
set alleles=(DRB1_0101 DRB1_0102 DRB1_0103 DRB1_0104 DRB1_0105 DRB1_0106 DRB1_0107 DRB1_0108 DRB1_0109 DRB1_0110 DRB1_0111 DRB1_0112 DRB1_0113 DRB1_0114 DRB1_0115 DRB1_0116 DRB1_0117 DRB1_0118 DRB1_0119 DRB1_0120 DRB1_0121 DRB1_0122 DRB1_0123 DRB1_0124 DRB1_0125 DRB1_0126 DRB1_0127 DRB1_0128 DRB1_0129 DRB1_0130 DRB1_0131 DRB1_0132 DRB1_0301 DRB1_0302 DRB1_0303 DRB1_0304 DRB1_0305 DRB1_0306 DRB1_0307 DRB1_0308 DRB1_0310 DRB1_0311 DRB1_0313 DRB1_0314 DRB1_0315 DRB1_0317 DRB1_0318 DRB1_0319 DRB1_0320 DRB1_0321 DRB1_0322 DRB1_0323 DRB1_0324 DRB1_0325 DRB1_0326 DRB1_0327 DRB1_0328 DRB1_0329 DRB1_0330 DRB1_0331 DRB1_0332 DRB1_0333 DRB1_0334 DRB1_0335 DRB1_0336 DRB1_0337 DRB1_0338 DRB1_0339 DRB1_0340 DRB1_0341 DRB1_0342 DRB1_0343 DRB1_0344 DRB1_0345 DRB1_0346 DRB1_0347 DRB1_0348 DRB1_0349 DRB1_0350 DRB1_0351 DRB1_0352 DRB1_0353 DRB1_0354 DRB1_0355 DRB1_0401 DRB1_0402 DRB1_0403 DRB1_0404 DRB1_0405 DRB1_0406 DRB1_0407 DRB1_0408 DRB1_0409 DRB1_0410 DRB1_0411 DRB1_0412 DRB1_0413 DRB1_0414 DRB1_0415 DRB1_0416 DRB1_0417 DRB1_0418 DRB1_0419 DRB1_0421 DRB1_0422 DRB1_0423 DRB1_0424 DRB1_0426 DRB1_0427 DRB1_0428 DRB1_0429 DRB1_0430 DRB1_0431 DRB1_0433 DRB1_0434 DRB1_0435 DRB1_0436 DRB1_0437 DRB1_0438 DRB1_0439 DRB1_0440 DRB1_0441 DRB1_0442 DRB1_0443 DRB1_0444 DRB1_0445 DRB1_0446 DRB1_0447 DRB1_0448 DRB1_0449 DRB1_0450 DRB1_0451 DRB1_0452 DRB1_0453 DRB1_0454 DRB1_0455 DRB1_0456 DRB1_0457 DRB1_0458 DRB1_0459 DRB1_0460 DRB1_0461 DRB1_0462 DRB1_0463 DRB1_0464 DRB1_0465 DRB1_0466 DRB1_0467 DRB1_0468 DRB1_0469 DRB1_0470 DRB1_0471 DRB1_0472 DRB1_0473 DRB1_0474 DRB1_0475 DRB1_0476 DRB1_0477 DRB1_0478 DRB1_0479 DRB1_0480 DRB1_0482 DRB1_0483 DRB1_0484 DRB1_0485 DRB1_0486 DRB1_0487 DRB1_0488 DRB1_0489 DRB1_0491 DRB1_0701 DRB1_0703 DRB1_0704 DRB1_0705 DRB1_0706 DRB1_0707 DRB1_0708 DRB1_0709 DRB1_0711 DRB1_0712 DRB1_0713 DRB1_0714 DRB1_0715 DRB1_0716 DRB1_0717 DRB1_0719 DRB1_0801 DRB1_0802 DRB1_0803 DRB1_0804 DRB1_0805 DRB1_0806 DRB1_0807 DRB1_0808 DRB1_0809 DRB1_0810 DRB1_0811 DRB1_0812 DRB1_0813 DRB1_0814 DRB1_0815 DRB1_0816 DRB1_0818 DRB1_0819 DRB1_0820 DRB1_0821 DRB1_0822 DRB1_0823 DRB1_0824 DRB1_0825 DRB1_0826 DRB1_0827 DRB1_0828 DRB1_0829 DRB1_0830 DRB1_0831 DRB1_0832 DRB1_0833 DRB1_0834 DRB1_0835 DRB1_0836 DRB1_0837 DRB1_0838 DRB1_0839 DRB1_0840 DRB1_0901 DRB1_0902 DRB1_0903 DRB1_0904 DRB1_0905 DRB1_0906 DRB1_0907 DRB1_0908 DRB1_0909 DRB1_1001 DRB1_1002 DRB1_1003 DRB1_1101 DRB1_1102 DRB1_1103 DRB1_1104 DRB1_1105 DRB1_1106 DRB1_1107 DRB1_1108 DRB1_1109 DRB1_1110 DRB1_1111 DRB1_1112 DRB1_1113 DRB1_1114 DRB1_1115 DRB1_1116 DRB1_1117 DRB1_1118 DRB1_1119 DRB1_1120 DRB1_1121 DRB1_1124 DRB1_1125 DRB1_1127 DRB1_1128 DRB1_1129 DRB1_1130 DRB1_1131 DRB1_1132 DRB1_1133 DRB1_1134 DRB1_1135 DRB1_1136 DRB1_1137 DRB1_1138 DRB1_1139 DRB1_1141 DRB1_1142 DRB1_1143 DRB1_1144 DRB1_1145 DRB1_1146 DRB1_1147 DRB1_1148 DRB1_1149 DRB1_1150 DRB1_1151 DRB1_1152 DRB1_1153 DRB1_1154 DRB1_1155 DRB1_1156 DRB1_1157 DRB1_1158 DRB1_1159 DRB1_1160 DRB1_1161 DRB1_1162 DRB1_1163 DRB1_1164 DRB1_1165 DRB1_1166 DRB1_1167 DRB1_1168 DRB1_1169 DRB1_1170 DRB1_1172 DRB1_1173 DRB1_1174 DRB1_1175 DRB1_1176 DRB1_1177 DRB1_1178 DRB1_1179 DRB1_1180 DRB1_1181 DRB1_1182 DRB1_1183 DRB1_1184 DRB1_1185 DRB1_1186 DRB1_1187 DRB1_1188 DRB1_1189 DRB1_1190 DRB1_1191 DRB1_1192 DRB1_1193 DRB1_1194 DRB1_1195 DRB1_1196 DRB1_1201 DRB1_1202 DRB1_1203 DRB1_1204 DRB1_1205 DRB1_1206 DRB1_1207 DRB1_1208 DRB1_1209 DRB1_1210 DRB1_1211 DRB1_1212 DRB1_1213 DRB1_1214 DRB1_1215 DRB1_1216 DRB1_1217 DRB1_1218 DRB1_1219 DRB1_1220 DRB1_1221 DRB1_1222 DRB1_1223 DRB1_1301 DRB1_1302 DRB1_1303 DRB1_1304 DRB1_1305 DRB1_1306 DRB1_1307 DRB1_1308 DRB1_1309 DRB1_1310 DRB1_13100 DRB1_13101 DRB1_1311 DRB1_1312 DRB1_1313 DRB1_1314 DRB1_1315 DRB1_1316 DRB1_1317 DRB1_1318 DRB1_1319 DRB1_1320 DRB1_1321 DRB1_1322 DRB1_1323 DRB1_1324 DRB1_1326 DRB1_1327 DRB1_1329 DRB1_1330 DRB1_1331 DRB1_1332 DRB1_1333 DRB1_1334 DRB1_1335 DRB1_1336 DRB1_1337 DRB1_1338 DRB1_1339 DRB1_1341 DRB1_1342 DRB1_1343 DRB1_1344 DRB1_1346 DRB1_1347 DRB1_1348 DRB1_1349 DRB1_1350 DRB1_1351 DRB1_1352 DRB1_1353 DRB1_1354 DRB1_1355 DRB1_1356 DRB1_1357 DRB1_1358 DRB1_1359 DRB1_1360 DRB1_1361 DRB1_1362 DRB1_1363 DRB1_1364 DRB1_1365 DRB1_1366 DRB1_1367 DRB1_1368 DRB1_1369 DRB1_1370 DRB1_1371 DRB1_1372 DRB1_1373 DRB1_1374 DRB1_1375 DRB1_1376 DRB1_1377 DRB1_1378 DRB1_1379 DRB1_1380 DRB1_1381 DRB1_1382 DRB1_1383 DRB1_1384 DRB1_1385 DRB1_1386 DRB1_1387 DRB1_1388 DRB1_1389 DRB1_1390 DRB1_1391 DRB1_1392 DRB1_1393 DRB1_1394 DRB1_1395 DRB1_1396 DRB1_1397 DRB1_1398 DRB1_1399 DRB1_1401 DRB1_1402 DRB1_1403 DRB1_1404 DRB1_1405 DRB1_1406 DRB1_1407 DRB1_1408 DRB1_1409 DRB1_1410 DRB1_1411 DRB1_1412 DRB1_1413 DRB1_1414 DRB1_1415 DRB1_1416 DRB1_1417 DRB1_1418 DRB1_1419 DRB1_1420 DRB1_1421 DRB1_1422 DRB1_1423 DRB1_1424 DRB1_1425 DRB1_1426 DRB1_1427 DRB1_1428 DRB1_1429 DRB1_1430 DRB1_1431 DRB1_1432 DRB1_1433 DRB1_1434 DRB1_1435 DRB1_1436 DRB1_1437 DRB1_1438 DRB1_1439 DRB1_1440 DRB1_1441 DRB1_1442 DRB1_1443 DRB1_1444 DRB1_1445 DRB1_1446 DRB1_1447 DRB1_1448 DRB1_1449 DRB1_1450 DRB1_1451 DRB1_1452 DRB1_1453 DRB1_1454 DRB1_1455 DRB1_1456 DRB1_1457 DRB1_1458 DRB1_1459 DRB1_1460 DRB1_1461 DRB1_1462 DRB1_1463 DRB1_1464 DRB1_1465 DRB1_1467 DRB1_1468 DRB1_1469 DRB1_1470 DRB1_1471 DRB1_1472 DRB1_1473 DRB1_1474 DRB1_1475 DRB1_1476 DRB1_1477 DRB1_1478 DRB1_1479 DRB1_1480 DRB1_1481 DRB1_1482 DRB1_1483 DRB1_1484 DRB1_1485 DRB1_1486 DRB1_1487 DRB1_1488 DRB1_1489 DRB1_1490 DRB1_1491 DRB1_1493 DRB1_1494 DRB1_1495 DRB1_1496 DRB1_1497 DRB1_1498 DRB1_1499 DRB1_1501 DRB1_1502 DRB1_1503 DRB1_1504 DRB1_1505 DRB1_1506 DRB1_1507 DRB1_1508 DRB1_1509 DRB1_1510 DRB1_1511 DRB1_1512 DRB1_1513 DRB1_1514 DRB1_1515 DRB1_1516 DRB1_1518 DRB1_1519 DRB1_1520 DRB1_1521 DRB1_1522 DRB1_1523 DRB1_1524 DRB1_1525 DRB1_1526 DRB1_1527 DRB1_1528 DRB1_1529 DRB1_1530 DRB1_1531 DRB1_1532 DRB1_1533 DRB1_1534 DRB1_1535 DRB1_1536 DRB1_1537 DRB1_1538 DRB1_1539 DRB1_1540 DRB1_1541 DRB1_1542 DRB1_1543 DRB1_1544 DRB1_1545 DRB1_1546 DRB1_1547 DRB1_1548 DRB1_1549 DRB1_1601 DRB1_1602 DRB1_1603 DRB1_1604 DRB1_1605 DRB1_1607 DRB1_1608 DRB1_1609 DRB1_1610 DRB1_1611 DRB1_1612 DRB1_1614 DRB1_1615 DRB1_1616 DRB3_0101 DRB3_0104 DRB3_0105 DRB3_0108 DRB3_0109 DRB3_0111 DRB3_0112 DRB3_0113 DRB3_0114 DRB3_0201 DRB3_0202 DRB3_0204 DRB3_0205 DRB3_0209 DRB3_0210 DRB3_0211 DRB3_0212 DRB3_0213 DRB3_0214 DRB3_0215 DRB3_0216 DRB3_0217 DRB3_0218 DRB3_0219 DRB3_0220 DRB3_0221 DRB3_0222 DRB3_0223 DRB3_0224 DRB3_0225 DRB3_0301 DRB3_0303 DRB4_0101 DRB4_0103 DRB4_0104 DRB4_0106 DRB4_0107 DRB4_0108 DRB5_0101 DRB5_0102 DRB5_0103 DRB5_0104 DRB5_0105 DRB5_0106 DRB5_0108N DRB5_0111 DRB5_0112 DRB5_0113 DRB5_0114 DRB5_0202 DRB5_0203 DRB5_0204 DRB5_0205)
set categories=(r a n d o m)

set allele=$alleles[$SGE_TASK_ID]
set category=$categories[$SGE_TASK_ID]

date
hostname

echo starting netMHCIIpan
/cellar/users/ramarty/programs/netMHCIIpan-3.1/netMHCIIpan -f /cellar/users/ramarty/Data/hla_ii/presentation/fasta_files/$category.fa -a $allele -xls -xlsfile /cellar/users/ramarty/Data/hla_ii/presentation/affinities/$category/$allele.csv > /cellar/users/ramarty/Data/hla_ii/sge-system_files/$category.$allele.txt

date
